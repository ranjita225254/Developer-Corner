<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <style type="text/css">
            .map {
                height:500px;
                position:relative;

                -moz-box-shadow:0 0 5px #ddd;
                -webkit-box-shadow:0 0 5px #ddd;
                box-shadow:0 0 5px #ddd;
            }

            .preloader {
                background:url(http://whave.org/images/loader.gif) no-repeat center #fff;
            }

            .marker {
                display:block;
                text-indent:-9999px;
                width:15px;
                height:23px;
                outline:none;
                background:url(http://whave.org/images/marker.png) no-repeat;
                cursor:pointer;
                z-index: 10;
            }
            .controls {
                position:absolute;
                top:10px;
                left:10px;
                z-index: 3;
            }

            .controls a {
                background:#2a2a2a;
                background:rgba(0, 0, 0, .6);
                display:block;
                float:left;
                clear:both;
                font-size:11px;
                font-weight:bold;
                line-height:28px;
                margin-bottom:4px;
                outline:none;
                padding:0 15px;
                text-decoration:none;
                color: #fff;
            }

            .controls a:hover {
                background:#669933;
                color:#FFF;
            }

            .controls .active {
                color:#fff;
                background-color: #166FBD;
            }

            .popup {
                width:300px;
                position:absolute;
                margin-top: 140px;
                padding:8px;
                background:#076DCE;
                color:#fff;
                font-size:10px;
                line-height:20px
                    z-index: 5 !important;
            }
            .popup p {
                font-size: 11px;
            }

            #services .popup a:link, .popup a:visited {
                color: #FFF;
                text-decoration: underline;
            }
            #services .popup a:hover, .popup a:active {
                color: #7ED555;
                text-decoration: underline;
            }


            .popup h3 {
                margin:0;
                margin-bottom:10px;
                font-family: 'Cabin Condensed', sans-serif;
                font-weight:normal;
                font-size:20px;
                color: #fff;
            }

            .popup .close {
                display:block;
                text-indent:-9999px;
                position:absolute;
                top:4px;
                right:4px;
                width:16px;
                height:16px;
                outline:none;
                background:url(http://whave.org/images/close.gif) no-repeat;
                cursor:pointer;
            }

            .relative {
                position:relative;
            }


        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
        <script type="text/javascript">
            /* 
             * CraftMap
             * author: Marcin Dziewulski
             * web: http://www.jscraft.net
             * email: info@jscraft.net
             * license: http://www.jscraft.net/licensing.html
             */

            (function ($) {
                $.fn.craftmap = function (options) {
                    var D = {
                        cookies: false,
                        fullscreen: false,
                        container: {
                            name: 'imgContent'
                        },
                        image: {
                            width: 1475,
                            height: 1200,
                            name: 'imgMap'
                        },
                        map: {
                            position: '700 400'
                        },
                        marker: {
                            name: 'marker',
                            center: true,
                            popup: true,
                            popup_name: 'popup',
                            onClick: function (marker, popup) {},
                            onClose: function (marker, popup) {}
                        },
                        controls: {
                            init: true,
                            name: 'controls',
                            onClick: function (marker) {}
                        },
                        preloader: {
                            init: true,
                            name: 'preloader',
                            onLoad: function (img, dimensions) {}
                        }
                    }; // default settings

                    var S = $.extend(true, D, options);

                    return this.each(function () {
                        var M = $(this),
                                IMG = M.find('.' + S.image.name),
                                P = {
                                    init: function () {
                                        this._container.init();
                                        if (S.fullscreen) {
                                            this.fullscreen.init();
                                            this.fullscreen.resize();
                                        }
                                        this._globals.init();
                                        if (S.preloader.init)
                                            this.preloader.init();
                                        this.map.init();
                                        this.marker.init();
                                        if (S.controls.init)
                                            this.controls.init();
                                    },
                                    _container: {
                                        init: function () {
                                            P._container.css();
                                            P._container.wrap();
                                        },
                                        css: function () {
                                            var max = {
                                                width: '100%',
                                                height: '100%'
                                            };
                                            IMG.css(max);
                                            var css = {
                                                position: 'relative',
                                                overflow: 'hidden',
                                                cursor: 'move'
                                            }
                                            M.css(css);
                                        },
                                        wrap: function () {
                                            var css = {
                                                zIndex: '1',
                                                position: 'absolute',
                                                width: S.image.width,
                                                height: S.image.height
                                            }
                                            M.wrapInner($('<div />').addClass(S.container.name).css(css));
                                        }
                                    },
                                    _globals: {
                                        init: function () {
                                            C = M.find('.' + S.container.name),
                                                    MARKER = C.find('.' + S.marker.name),
                                                    md = false, mx = 0, my = 0, ex = 0, ey = 0, delta = 0, mv = [], interval = 0,
                                                    D = {
                                                        w: M.width(),
                                                        h: M.height()
                                                    },
                                                    I = {
                                                        w: C.width(),
                                                        h: C.height()
                                                    }
                                            if (S.controls.init) {
                                                CONTROLS = $('.' + S.controls.name).find('a');
                                            }
                                        }
                                    },
                                    _mouse: {
                                        get: function (e) {
                                            var x = e.pageX,
                                                    y = e.pageY;
                                            return {'x': x, 'y': y}
                                        },
                                        update: function (e) {
                                            var mouse = P._mouse.get(e),
                                                    x = mouse.x,
                                                    y = mouse.y,
                                                    movex = x - mx,
                                                    movey = y - my,
                                                    top = ey + movey,
                                                    left = ex + movex,
                                                    check = P.map.position.check(left, top),
                                                    css = {
                                                        top: check.y,
                                                        left: check.x
                                                    }
                                            C.css(css);
                                            if (S.cookies) {
                                                P.cookies.create('position', check.x + ',' + check.y, 7);
                                            }
                                        },
                                        decelerate: function (e) {
                                            var l = mv.length, timer = 0;
                                            if (l) {
                                                var tc = 20;
                                                interval = setInterval(function () {
                                                    var position = C.position(), left = position.left, top = position.top,
                                                            remain = (tc - timer) / tc,
                                                            last = l - 1,
                                                            xd = (mv[last].x - mv[0].x) / l,
                                                            yd = (mv[last].y - mv[0].y) / l,
                                                            vx = xd * remain,
                                                            vy = yd * remain,
                                                            coords = P.map.position.check(vx + left, vy + top),
                                                            css = {
                                                                left: coords.x,
                                                                top: coords.y
                                                            };
                                                    C.css(css);
                                                    ++timer;
                                                    if (timer == tc) {
                                                        clearInterval(interval);
                                                        timer = 0;
                                                    }
                                                }, 40);
                                            }
                                        },
                                        wheel: {
                                            init: function (e) {
                                                M.handle = function (e) {
                                                    e.preventDefault();
                                                    if (!e) {
                                                        e = window.event;
                                                    }
                                                    if (e.wheelDelta) {
                                                        delta = e.wheelDelta / 120;
                                                        if (window.opera) {
                                                            delta = -delta;
                                                        }
                                                    } else if (e.detail) {
                                                        delta = -e.detail / 3;
                                                    }
                                                }
                                                if (window.addEventListener) {
                                                    window.addEventListener('DOMMouseScroll', M.handle, false);
                                                }
                                                window.onmousewheel = document.onmousewheel = M.handle;
                                            },
                                            remove: function () {
                                                if (window.removeEventListener) {
                                                    window.removeEventListener('DOMMouseScroll', M.handle, false);
                                                }
                                                window.onmousewheel = document.onmousewheel = null;
                                            }
                                        }
                                    },
                                    fullscreen: {
                                        init: function () {
                                            var win = $(window), w = win.width(), h = win.height(),
                                                    css = {
                                                        width: w,
                                                        height: h
                                                    }
                                            M.css(css);
                                        },
                                        resize: function () {
                                            $(window).resize(function () {
                                                P.fullscreen.init();
                                                D = {
                                                    w: M.width(),
                                                    h: M.height()
                                                }
                                            });
                                        }
                                    },
                                    cookies: {
                                        create: function (name, value, days) {
                                            if (days) {
                                                var date = new Date(), set = date.getTime() + (days * 24 * 60 * 60 * 1000);
                                                date.setTime(set);
                                                var expires = '; expires=' + date.toGMTString();
                                            } else {
                                                var expires = '';
                                            }
                                            document.cookie = name + '=' + value + expires + '; path=/';
                                        },
                                        erase: function (name) {
                                            cookies.create(name, '', -1);
                                        },
                                        read: function (name) {
                                            var e = name + '=',
                                                    ca = document.cookie.split(';');
                                            for (var i = 0; i < ca.length; i++) {
                                                var c = ca[i];
                                                while (c.charAt(0) == ' ') {
                                                    c = c.substring(1, c.length);
                                                }
                                                if (c.indexOf(e) == 0) {
                                                    return c.substring(e.length, c.length);
                                                }
                                            }
                                            return null;
                                        }
                                    },
                                    preloader: {
                                        init: function () {
                                            var img = new Image(),
                                                    src = IMG.attr('src');
                                            P.preloader.create();
                                            $(img).addClass(S.image.name).attr('src', src).load(function () {
                                                var t = $(this),
                                                        css = {
                                                            width: this.width,
                                                            height: this.height
                                                        }
                                                t.css(css);
                                                IMG.remove();
                                                P.preloader.remove();
                                                S.preloader.onLoad.call(this, t, css);
                                            }).appendTo(C);
                                        },
                                        create: function () {
                                            var css = {
                                                position: 'absolute',
                                                zIndex: '10',
                                                top: '0',
                                                left: '0',
                                                width: '100%',
                                                height: '100%'
                                            }
                                            M.append($('<div />').addClass(S.preloader.name).css(css));
                                        },
                                        remove: function () {
                                            M.find('.' + S.preloader.name).fadeOut(400, function () {
                                                var t = $(this);
                                                t.remove();
                                            });
                                        }
                                    },
                                    map: {
                                        init: function () {
                                            P.map.position.set();
                                            P.map.move();
                                        },
                                        position: {
                                            set: function () {
                                                if (S.cookies) {
                                                    if (typeof P.cookies.read('position') != 'null') {
                                                        var position = P.cookies.read('position').split(','),
                                                                x = position[0],
                                                                y = position[1];
                                                    } else {
                                                        var x = (D.w - I.w) / 2,
                                                                y = (D.h - I.h) / 2;
                                                    }
                                                } else {
                                                    var position = S.map.position;
                                                    switch (position) {
                                                        case 'center':
                                                            var x = (D.w - I.w) / 2,
                                                                    y = (D.h - I.h) / 2;
                                                            break;
                                                        case 'top_left':
                                                            var x = 0,
                                                                    y = 0;
                                                            break;
                                                        case 'top_right':
                                                            var x = D.w - I.w,
                                                                    y = 0;
                                                            break;
                                                        case 'bottom_left':
                                                            var x = 0,
                                                                    y = D.h - I.h;
                                                            break;
                                                        case 'bottom_right':
                                                            var x = D.w - I.w,
                                                                    y = D.h - I.h;
                                                            break;
                                                        default:
                                                            var coords = position.split(' '),
                                                                    x = -(coords[0]),
                                                                    y = -(coords[1]),
                                                                    coords = P.map.position.check(x, y),
                                                                    x = coords.x,
                                                                    y = coords.y;
                                                    }
                                                }
                                                var css = {top: y, left: x}
                                                C.css(css);
                                            },
                                            check: function (x, y) {
                                                if (y < (D.h - I.h)) {
                                                    y = D.h - I.h;
                                                } else if (y > 0) {
                                                    y = 0;
                                                }

                                                if (x < (D.w - I.w)) {
                                                    x = D.w - I.w;
                                                } else if (x > 0) {
                                                    x = 0;
                                                }
                                                return {'x': x, 'y': y}
                                            }
                                        },
                                        move: function () {
                                            C.bind({
                                                mousedown: function (e) {
                                                    md = true;
                                                    var mouse = P._mouse.get(e);
                                                    mx = mouse.x,
                                                            my = mouse.y;
                                                    var el = C.position();
                                                    ex = el.left,
                                                            ey = el.top;
                                                    mv = [];
                                                    clearInterval(interval);
                                                    P._mouse.update(e);
                                                    return false;
                                                },
                                                mousemove: function (e) {
                                                    if (md) {
                                                        P._mouse.update(e);
                                                        var mouse = P._mouse.get(e),
                                                                coords = {
                                                                    x: mouse.x,
                                                                    y: mouse.y
                                                                }
                                                        mv.push(coords);
                                                        if (mv.length > 15) {
                                                            mv.pop();
                                                        }
                                                    }
                                                    return false;
                                                },
                                                mouseup: function (e) {
                                                    if (md)
                                                        md = false;
                                                    P._mouse.decelerate(e);
                                                    return false;
                                                },
                                                mouseout: function () {
                                                    if (md)
                                                        md = false;
                                                    P._mouse.wheel.remove();
                                                    return false;
                                                },
                                                mouseover: function (e) {
                                                    P._mouse.wheel.init(e);
                                                    return false;
                                                },
                                                mousewheel: function (e) {
                                                    P._zoom.init(e);
                                                }
                                            });
                                        }
                                    },
                                    _zoom: {
                                        init: function (e) {}
                                    },
                                    marker: {
                                        init: function () {
                                            P.marker.set();
                                            P.marker.open();
                                            P.marker.close();
                                        },
                                        set: function () {
                                            MARKER.each(function () {
                                                var t = $(this), position = t.attr('data-coords').split(',');
                                                x = parseInt(position[0]), y = parseInt(position[1]),
                                                        css = {
                                                            position: 'absolute',
                                                            zIndex: '2',
                                                            top: y,
                                                            left: x
                                                        }
                                                t.css(css);
                                            }).wrapInner($('<div />').addClass(S.marker.name + 'Content').hide());
                                        },
                                        open: function () {
                                            MARKER.live('click', function () {
                                                var t = $(this), id = t.attr('id'), marker = S.marker, w = t.width(), h = t.height(),
                                                        position = t.position(), x = position.left, y = position.top, id = t.attr('id'),
                                                        html = t.find('.' + marker.name + 'Content').html();

                                                if (marker.center) {
                                                    var cy = -y + D.h / 2 - h / 2,
                                                            cx = -x + D.w / 2 - w / 2,
                                                            c = P.map.position.check(cx, cy),
                                                            animate = {
                                                                top: c.y,
                                                                left: c.x
                                                            };
                                                    C.animate(animate);
                                                }

                                                if (marker.popup) {
                                                    $('.' + marker.popup_name).remove();
                                                    var css = {
                                                        position: 'absolute',
                                                        zIndex: '3'
                                                    }
                                                    t.after(
                                                            $('<div />').addClass(marker.popup_name + ' ' + id).css(css).html(html).append(
                                                            $('<a />').addClass('close')
                                                            )
                                                            );
                                                    var POPUP = t.next('.' + marker.popup_name),
                                                            pw = POPUP.innerWidth(),
                                                            ph = POPUP.innerHeight(),
                                                            x0 = 0, y0 = 0;

                                                    if (x - pw < 0) {
                                                        x0 = x;
                                                    } else if (x + pw / 2 > I.w) {
                                                        x0 = x - pw + w;
                                                    } else {
                                                        x0 = x - (pw / 2 - w / 2);
                                                    }

                                                    if (y - ph < 0) {
                                                        y0 = y + h + h / 1.5;
                                                    } else {
                                                        y0 = y - ph - h / 1.5;
                                                    }

                                                    if (x - pw < 0 && y - ph < 0) {
                                                        x0 = x + w * 2;
                                                        y0 = y - h / 2;
                                                    } else if (y - ph < 0 && x + pw / 2 > I.w) {
                                                        x0 = x - pw - w / 2;
                                                        y0 = y - h / 2;
                                                    } else if (y + ph > I.h && x + pw / 2 > I.w) {
                                                        x0 = x - pw + w;
                                                        y0 = y - ph - h / 2;
                                                    } else if (y + ph > I.h && x - pw < 0) {
                                                        x0 = x;
                                                        y0 = y - ph - h / 2;
                                                    }

                                                    var css = {
                                                        left: x0,
                                                        top: y0
                                                    }
                                                    POPUP.css(css);
                                                }
                                                P.controls.active.set(id);
                                                marker.onClick.call(this, t, POPUP);
                                                return false;
                                            });
                                        },
                                        close: function () {
                                            C.find('.close').live('click', function () {
                                                var t = $(this), popup = t.parents('.' + S.marker.popup_name), marker = popup.prev('.' + S.marker.name);
                                                popup.remove();
                                                P.controls.active.remove();
                                                S.marker.onClose.call(this, marker, popup);
                                                return false;
                                            });
                                        }
                                    },
                                    controls: {
                                        init: function () {
                                            P.controls.set();
                                        },
                                        set: function () {
                                            CONTROLS.click(function () {
                                                var t = $(this), rel = t.attr('rel');
                                                div = C.find('.' + S.marker.name).filter('#' + rel);
                                                div.trigger('click');
                                                S.controls.onClick.call(this, div);
                                                return false;
                                            });
                                        },
                                        active: {
                                            set: function (id) {
                                                if (S.controls.init) {
                                                    CONTROLS.removeClass('active').filter(function () {
                                                        return this.rel == id;
                                                    }).addClass('active');
                                                }
                                            },
                                            remove: function () {
                                                if (S.controls.init) {
                                                    CONTROLS.removeClass('active');
                                                }
                                            }
                                        }
                                    }
                                }
                        P.init();
                    });
                };
            }(jQuery));
        </script>
    </head>
    <body id="top">
        <div id="wrapper"> 
            <div id="experience" class="borderline">
                <div class="relative">
                    <div class="controls">
                        <a href="#" rel="uganda">Uganda</a>
                        <a href="#" rel="mozambique">Mozambique</a>
                        <a href="#" rel="srilanka">Sri Lanka</a>
                        <a href="#" rel="laosa">Laos Off-grid</a>
                        <a href="#" rel="laosb">Laos BioGas</a>
                        <a href="#" rel="vietnam">Vietnam</a>
                        <a href="#" rel="bangladesh">Bangladesh</a>
                        <a href="#" rel="guinea">Guinea-Conakry</a>
                        <a href="#" rel="zambia">Zambia</a>
                        <a href="#" rel="malawi">Malawi</a>
                        <a href="#" rel="nigeria">Nigeria</a>
                        <a href="#" rel="cameroon">Cameroon</a>
                    </div>   
                    <div class="map">
                        <img src="http://whave.org/images/world_map.png" class="imgMap" />
                        <div class="marker" id="mozambique" data-coords="1174, 788">
                            <h3>Mozambique</h3>
                            <p>Whave is planning a regional office in Mozambique, with a focus in urban areas on reducing wood-charcoal consumption through efficient cook-stove manufacture and dissemination. Whave Mozambique is also planning pilot projects to increase the reliability of rural safe water supply.</p>
                        </div>
                        <div class="marker" id="uganda" data-coords="1140, 690"> <!-- 1140, 695 -->
                            <h3>Uganda</h3>
                            <p>Whave is working with the government to develop a national <a href="#safewater">Safe Water Security</a> programme. The focus is on ensuring daily operational reliability of clean water sources combined with transformation of hygiene and sanitation committees. Public-Private Partnerships (PPPs) have been structured to include local private sector "micro-utilities" as key performance-paid players,  and to include local government offices and NGOs. A laddered strategy for local community financing of sustainable WASH services has been established. </p>
                        </div> 
                        <div class="marker" id="srilanka" data-coords="1425, 640">
                            <h3>Sri Lanka</h3>
                            <p>Whave experts have been leading contributors to development of rural electricity network in Sri Lanka through design, construction, and rehabilitation of numerous micro-hydro sites. These have included stand-alone as well as grid connected sites, and several village-scale power stations. Whave has also designed and introduced high efficiency tea processing equipment, to reduce fuel-wood and fossil-fuel consumption.</p>
                        </div>  
                        <div class="marker" id="laosa" data-coords="1542, 552">
                            <h3>Laos</h3>
                            <p>Whave experts assisted the Government to revise electricity laws and regulations in order to facilitate a range of rural electrification initiatives led by provincial energy service companies. We established a credit and hire-purchase system which enabled local entrepreneurs to install and operate reliably solar PV in 5 provinces, and also to provide reliable operation and management for village-scale pico-hydro systems. The work involved effective participative planning and incentives for regular preventive maintenance.</p>

                        </div>
                        <div class="marker" id="laosb" data-coords="1570, 586">
                            <h3>Laos</h3>
                            <p>Whave experts undertook an analysis of the potential for small-scale biogas production by farmers, as a method of replacing diminishing firewood resources used for cooking. The study included an institutional analysis, and an analysis of social trends and changes in animal husbandry methods.</p>
                        </div>
                        <div class="marker" id="vietnam" data-coords="1555, 540">
                            <h3>Vietnam</h3>
                            <p>Whave experts trained local engineers in Vietnam in the manufacture of electronic control systems for village-scale and micro-scale hydel systems. Whave experts also engaged in the site identification, design, construction, and management planning for a series of village-scale and micro-scale hydro schemes in areas of northern Vietnam out of reach of the national grid. The work included training courses for local engineers and preparation in Vietnamese of instruction manuals.</p>
                        </div>
                        <div class="marker" id="bangladesh" data-coords="1464, 532">
                            <h3>Bangladesh</h3>
                            <p>Whave experts contributed to the current Clean Development Mechanism methodology principally in analysis of non-renewable biomass. This was applied to a CDM Programme of Activities in Bangladesh, where we designed and undertook the baseline study and a field performance test of improved stoves using firewood, and developed the CDM PoA and CPA Design Documents. The PoA was registered in 2011 as the first CDM PoA for improved cook-stoves. </p>
                        </div>
                        <div class="marker" id="guinea" data-coords="863, 628">
                            <h3>Guinea-Conakry</h3>
                            <p>In Guinea-Conakry, we joined with experts from Geres in France, conducted a training course in micro-hydel management, economics, design and construction for French speaking planning engineers from the private and the public sector. The training course included preparation of a micro-hydro design manual in French language, a locally-adapted version of the book "Micro-Hydro Design Manual".</p>
                        </div>
                        <div class="marker" id="zambia" data-coords="1100, 785">
                            <h3>Zambia</h3>
                            <p>An important solution to the fuel-wood crisis in Africa is the replacement of non-renewing with renewing fuel-wood. Our experts are lead consultants to an innovative CDM Programme of Activities, with the aim of producing supplying Zambian cities with a locally produced green fuel to replace conventional wood-charcoal; the project also has the goal of reducing domestic expenditure on cooking fuel.</p>
                        </div>
                        <div class="marker" id="malawi" data-coords="1150, 763">
                            <h3>Malawi</h3>
                            <p>Our experts are lead consultants to an innovative CDM Programme of Activities operational in Malawi, with the aim of supplying the market with a locally grown green fuel to replace conventional wood-charcoal; the project also has the goal of reducing domestic expenditure on cooking fuel.</p>
                        </div>
                        <div class="marker" id="nigeria" data-coords="990, 640">
                            <h3>Nigeria</h3>
                            <p>Whave experts are lead consultants to a CDM Programme of Activities which aims to supply families and institutions in Kaduna and Kano States with efficient cook-stoves, in order to address the problems of fuel-wood scarcity and deforestation, rising prices , and health impairment caused by smokey kitchens.</p>
                        </div>
                        <div class="marker" id="cameroon" data-coords="1020, 660">
                            <h3>Cameroon</h3>
                            <p>We assisted the government of Cameroon to introduce off-grid electricity into their rural planning and regulation structures, specifically by identifying and demonstrating the potential of micro-hydro electricity sources in the country. Local officials and engineers were trained by Whave in participative planning an d in ownership, management and tariff structures. Whave engineers also trained local entrepreneurs in construction of turbines, and in micro-hydel site design and construction. Pilot sites were constructed and villagers engaged in establishment of management and ownership structures.</p>
                        </div>
                        <!-- etc. -->
                    </div><!-- ends Map -->
                </div><!-- ends relative div -->
            </div>
        </div>
        <script type="text/javascript">
            $(function () {
                $('.map').craftmap({
                    image: {
                        width: 1994,
                        height: 1303
                    }
                });

            });
        </script>
    </body>
</html>
